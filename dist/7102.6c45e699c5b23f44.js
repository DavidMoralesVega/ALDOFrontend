"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7102],{7782:(P,U,r)=>{r.d(U,{M:()=>l});var o=r(4650),g=r(3208),x=r(7392);let l=(()=>{class f{constructor(I){this.matSnackBarService=I,this.onUpload=new o.vpe,this.imagePreview="assets/brand/placeholder-avatar.webp",this.imageName="Archivo no seleccionado",this.isValidImage=!1}ngOnInit(){}onFileChange(I){if(I.target.files&&I.target.files[0]){const t=I.target.files[0],h=t.size,C=2097152;if(this.isImage=["image/jpeg","image/png","application/pdf"].includes(t.type),this.isImage)if(h>C)this.matSnackBarService.open("warning","La imagen no puede ser mayor a 2 MB"),this.isValidImage=!1,this.imageName="Archivo no seleccionado";else{const D=new FileReader;D.onload=A=>this.imagePreview=A.target.result,D.readAsDataURL(t),this.imageName=t.name,this.isValidImage=!0}else this.matSnackBarService.open("warning","Selecciona una imagen para subirla"),this.isValidImage=!1,this.imageName="Archivo no seleccionado";this.onUpload.emit({file:t,isValidImage:this.isValidImage})}}}return f.\u0275fac=function(I){return new(I||f)(o.Y36(g.s))},f.\u0275cmp=o.Xpm({type:f,selectors:[["z-upload-input-type-document"]],outputs:{onUpload:"onUpload"},decls:11,vars:1,consts:[[1,"z-container-image-upload"],[1,"upload-input-container"],[1,"input-container"],["type","file","accept","application/pdf",3,"change"],["type","button",1,"z-btn","btn-upload"],["fontIcon","picture_as_pdf"]],template:function(I,t){1&I&&(o.TgZ(0,"div",0)(1,"div")(2,"h6")(3,"small"),o._uU(4),o.qZA()()(),o.TgZ(5,"div",1)(6,"div",2)(7,"input",3),o.NdJ("change",function(R){return t.onFileChange(R)}),o.qZA()(),o.TgZ(8,"button",4),o._UZ(9,"mat-icon",5),o._uU(10," A\xf1adir documento *.pdf "),o.qZA()()()),2&I&&(o.xp6(4),o.Oqu(t.imageName))},dependencies:[x.Hw]}),f})()},3390:(P,U,r)=>{r.d(U,{N:()=>$});var o=r(9653),g=r(237);const l=(0,o.ZF)(g.C.recognition),f=(0,o.P1)(l,s=>s.create.createRecognitionDto),a=(0,o.P1)(l,s=>s.create.exception),I=(0,o.P1)(l,s=>s.create.isLoading),t=(0,o.P1)(l,s=>s.create.response),E=(0,o.P1)(l,s=>s.findAll.pagination),R=(0,o.P1)(l,s=>s.findAll.exception),h=(0,o.P1)(l,s=>s.findAll.isLoading),C=(0,o.P1)(l,s=>s.findAll.response),D=(0,o.P1)(l,s=>s.findOne.id),A=(0,o.P1)(l,s=>s.findOne.exception),_=(0,o.P1)(l,s=>s.findOne.isLoading),q=(0,o.P1)(l,s=>s.findOne.response),N=(0,o.P1)(l,s=>s.update.updateRecognitionDto),Y=(0,o.P1)(l,s=>s.update.id),z=(0,o.P1)(l,s=>s.update.exception),M=(0,o.P1)(l,s=>s.update.isLoading),Q=(0,o.P1)(l,s=>s.update.response);var O=r(8115),y=r(4650);let $=(()=>{class s{constructor(Z){this.store=Z,this.createDto$=this.store.select(f),this.createException$=this.store.select(a),this.createIsLoading$=this.store.select(I),this.createResponse$=this.store.select(t),this.findAllPagination$=this.store.select(E),this.findAllException$=this.store.select(R),this.findAllIsLoading$=this.store.select(h),this.findAllResponse$=this.store.select(C),this.findOneId$=this.store.select(D),this.findOneException$=this.store.select(A),this.findOneIsLoading$=this.store.select(_),this.findOneResponse$=this.store.select(q),this.updateDto$=this.store.select(N),this.updateId$=this.store.select(Y),this.updateException$=this.store.select(z),this.updateIsLoading$=this.store.select(M),this.updateResponse$=this.store.select(Q)}create(Z){this.store.dispatch((0,O.zv)({payload:Z}))}findAll(Z){this.store.dispatch((0,O.Az)({payload:Z}))}findOne(Z){this.store.dispatch((0,O.tD)({payload:Z}))}update(Z,J){this.store.dispatch((0,O.ch)({id:Z,payload:J}))}}return s.\u0275fac=function(Z){return new(Z||s)(y.LFG(o.yh))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})()},7102:(P,U,r)=>{r.r(U),r.d(U,{RecognitionModule:()=>kt});var o=r(6895),g=r(6582),x=r(8739),l=r(6308),f=r(7155),a=r(4006),I=r(3829),t=r(4650),E=r(3390),R=r(5412),h=r(9549),C=r(4144),D=r(7392),A=r(4859),_=r(1948),q=r(7782),N=r(9602);function Y(e,i){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",33),t._uU(2," El t\xedtulo es requerida. "),t.qZA())}function z(e,i){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",33),t._uU(2," M\xe1ximo 40 car\xe1cteres. "),t.qZA())}function M(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Y,3,0,"span",14),t.YNc(2,z,3,0,"span",14),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.RTitle.errors?null:n.RTitle.errors.required),t.xp6(1),t.Q6J("ngIf",null==n.RTitle.errors?null:n.RTitle.errors.maxlength)}}function Q(e,i){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",33),t._uU(2," La descripci\xf3n es requerida. "),t.qZA())}function O(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Q,3,0,"span",14),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.RSummary.errors?null:n.RSummary.errors.required)}}function y(e,i){1&e&&(t.TgZ(0,"button",34),t._uU(1,"Guardar"),t.qZA())}function $(e,i){1&e&&(t.TgZ(0,"button",35),t._uU(1,"Guardando..."),t.qZA())}let s=(()=>{class e{constructor(n){this.recognitionFacade=n,this.errorMatcher=new I.U,this.formCreate=new a.cw({}),this.pagination={limit:100,offset:0,filter:"ALL"},this.isValidImage=!1,this.createIsLoading$=n.createIsLoading$}ngOnInit(){this.initFormCreate()}initFormCreate(){this.formCreate=new a.cw({RTitle:new a.NI("",[a.kI.required,a.kI.maxLength(40)]),RSummary:new a.NI("",[a.kI.required,a.kI.maxLength(40)]),RPublicationDate:new a.NI("",[a.kI.required]),RIssueDate:new a.NI("",[a.kI.required]),REventDate:new a.NI("",[a.kI.required]),RVisibility:new a.NI(!0,[a.kI.required])})}get RTitle(){return this.formCreate.get("RTitle")}get RSummary(){return this.formCreate.get("RSummary")}get RPublicationDate(){return this.formCreate.get("RPublicationDate")}get RIssueDate(){return this.formCreate.get("RIssueDate")}get REventDate(){return this.formCreate.get("REventDate")}get RVisibility(){return this.formCreate.get("RVisibility")}create(){if(console.log("hola antes form"),this.formCreate.invalid)return;console.log("RVisibility",this.RVisibility.value),console.log("RFile",this.file);let n=new FormData;n.append("RTitle",this.RTitle.value),n.append("RSummary",this.RSummary.value),n.append("RPublicationDate",this.RPublicationDate.value),n.append("RIssueDate",this.RIssueDate.value),n.append("REventDate",this.REventDate.value),n.append("RVisibility",this.RVisibility.value),n.append("RFile",this.file),console.log(n),this.recognitionFacade.create(n)}handleUpload(n){this.isValidImage=n.isValid,this.file=n.file,console.log(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(E.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["z-recognition-create"]],decls:68,vars:16,consts:[[1,"dialogContainer"],[1,"dialogContainer__header"],["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close",""],[1,"material-symbols-outlined"],["novalidate","novalidate","autocomplete","off",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-12"],[3,"onUpload"],["appearance","outline",1,"col-lg-12"],["matInput","","maxlength","40","formControlName","RTitle","placeholder","T\xedtulo"],["align","start"],["align","end"],[4,"ngIf"],["appearance","outline",1,"example-full-width"],["formControlName","RSummary","rows","7","matInput",""],["matInput","","formControlName","RPublicationDate",3,"matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["RPublicationDate",""],["matInput","","formControlName","RIssueDate",3,"matDatepicker"],["RIssueDate",""],["matInput","","formControlName","REventDate",3,"matDatepicker"],["REventDate",""],[1,"z-container-raddio-button"],[1,"z-label"],["formControlName","RVisibility",1,"z-radio-group"],["value","P\xfablico",1,"z-radio-button"],["value","Privado",1,"z-radio-button"],["mat-button","","mat-dialog-close",""],["mat-button","",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],[1,"fas","fa-exclamation-circle","mr-1"],["mat-button",""],["mat-button","","disabled",""]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Crear"),t.qZA(),t.TgZ(4,"button",3)(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"form",5),t.NdJ("ngSubmit",function(){return c.create()}),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"z-upload-input-type-document",9),t.NdJ("onUpload",function(p){return c.handleUpload(p)}),t.qZA()(),t.TgZ(12,"mat-form-field",10)(13,"mat-label"),t._uU(14,"T\xedtulo"),t.qZA(),t._UZ(15,"input",11),t.TgZ(16,"mat-hint",12),t._uU(17,"M\xe1ximo 40 car\xe1cteres. "),t.qZA(),t.TgZ(18,"mat-hint",13),t._uU(19),t.qZA(),t.YNc(20,M,3,2,"mat-error",14),t.qZA(),t.TgZ(21,"mat-form-field",15)(22,"mat-label"),t._uU(23,"Descripci\xf3n"),t.qZA(),t._UZ(24,"textarea",16),t.YNc(25,O,2,1,"mat-error",14),t.qZA(),t.TgZ(26,"mat-form-field",10)(27,"mat-label"),t._uU(28,"Fecha de publicaci\xf3n"),t.qZA(),t._UZ(29,"input",17),t.TgZ(30,"mat-hint"),t._uU(31,"MM/DD/YYYY"),t.qZA(),t._UZ(32,"mat-datepicker-toggle",18)(33,"mat-datepicker",19,20),t.qZA(),t.TgZ(35,"mat-form-field",10)(36,"mat-label"),t._uU(37,"Fecha de emisi\xf3n"),t.qZA(),t._UZ(38,"input",21),t.TgZ(39,"mat-hint"),t._uU(40,"MM/DD/YYYY"),t.qZA(),t._UZ(41,"mat-datepicker-toggle",18)(42,"mat-datepicker",19,22),t.qZA(),t.TgZ(44,"mat-form-field",10)(45,"mat-label"),t._uU(46,"Fecha de evento"),t.qZA(),t._UZ(47,"input",23),t.TgZ(48,"mat-hint"),t._uU(49,"MM/DD/YYYY"),t.qZA(),t._UZ(50,"mat-datepicker-toggle",18)(51,"mat-datepicker",19,24),t.qZA(),t.TgZ(53,"div",25)(54,"label",26),t._uU(55,"Seleccionar la visibilidad"),t.qZA(),t.TgZ(56,"mat-radio-group",27)(57,"mat-radio-button",28),t._uU(58," P\xfablico "),t.qZA(),t.TgZ(59,"mat-radio-button",29),t._uU(60," Privado "),t.qZA()()()()(),t.TgZ(61,"mat-dialog-actions",13)(62,"button",30),t._uU(63,"Cancelar"),t.qZA(),t.YNc(64,y,2,0,"button",31),t.ALo(65,"async"),t.YNc(66,$,2,0,"button",32),t.ALo(67,"async"),t.qZA()()()),2&n){const u=t.MAs(34),p=t.MAs(43),m=t.MAs(52);t.xp6(7),t.Q6J("formGroup",c.formCreate),t.xp6(12),t.hij("",c.RTitle.value.length," / 40"),t.xp6(1),t.Q6J("ngIf",c.errorMatcher.isErrorState(c.RTitle,null)),t.xp6(5),t.Q6J("ngIf",c.errorMatcher.isErrorState(c.RSummary,null)),t.xp6(4),t.Q6J("matDatepicker",u),t.xp6(3),t.Q6J("for",u),t.xp6(6),t.Q6J("matDatepicker",p),t.xp6(3),t.Q6J("for",p),t.xp6(6),t.Q6J("matDatepicker",m),t.xp6(3),t.Q6J("for",m),t.xp6(14),t.Q6J("ngIf",!t.lcZ(65,12,c.createIsLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(67,14,c.createIsLoading$))}},dependencies:[o.O5,a._Y,a.Fj,a.JJ,a.JL,a.nD,a.sg,a.u,R.ZT,R.uh,R.xY,R.H8,h.TO,h.KE,h.bx,h.hX,h.R9,C.Nt,D.Hw,A.lW,_.VQ,_.U0,q.M,N.Mq,N.hl,N.nW,o.Ov]}),e})();function G(e,i){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",29),t._uU(2," El t\xedtulo es requerida. "),t.qZA())}function Z(e,i){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",29),t._uU(2," El t\xedtulo debe tener como m\xe1ximo 40 caracteres. "),t.qZA())}function J(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,G,3,0,"span",12),t.YNc(2,Z,3,0,"span",12),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.RTitle.errors?null:n.RTitle.errors.required),t.xp6(1),t.Q6J("ngIf",null==n.RTitle.errors?null:n.RTitle.errors.maxlength)}}function j(e,i){1&e&&(t.TgZ(0,"button",30),t._uU(1,"Guardar"),t.qZA())}function tt(e,i){1&e&&(t.TgZ(0,"button",31),t._uU(1,"Guardando..."),t.qZA())}let et=(()=>{class e{constructor(n,c){this.recognitionAdapter=n,this.recognitionFacade=c,this.errorMatcher=new I.U,this.formUpdate=new a.cw({}),this.pagination={limit:100,offset:0,filter:"ALL"},this.updateIsLoading$=c.updateIsLoading$}ngOnInit(){this.initFormUpdate()}initFormUpdate(){this.formUpdate=new a.cw({RTitle:new a.NI(this.recognitionAdapter.RTitle,[a.kI.required,a.kI.maxLength(40)]),RSummary:new a.NI(this.recognitionAdapter.RSummary,[a.kI.required,a.kI.maxLength(40)]),RPublicationDate:new a.NI(this.recognitionAdapter.RPublicationDate,[a.kI.required]),RIssueDate:new a.NI(this.recognitionAdapter.RIssueDate,[a.kI.required]),REventDate:new a.NI(this.recognitionAdapter.REventDate,[a.kI.required]),RVisibility:new a.NI(this.recognitionAdapter.RVisibility,[a.kI.required])})}get RTitle(){return this.formUpdate.get("RTitle")}get RSummary(){return this.formUpdate.get("RSummary")}get RPublicationDate(){return this.formUpdate.get("RPublicationDate")}get RIssueDate(){return this.formUpdate.get("RIssueDate")}get REventDate(){return this.formUpdate.get("REventDate")}get RVisibility(){return this.formUpdate.get("RVisibility")}update(){if(this.formUpdate.invalid)return;const n={RTitle:this.RTitle.value,RSummary:this.RSummary.value,RPublicationDate:this.RPublicationDate.value,RIssueDate:this.RIssueDate.value,REventDate:this.REventDate.value,RVisibility:this.RVisibility.value};console.log(this.recognitionAdapter.IdRecognition),this.recognitionFacade.update(this.recognitionAdapter.IdRecognition,n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(R.WI),t.Y36(E.N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["z-recognition-update"]],decls:70,vars:17,consts:[[1,"dialogContainer"],[1,"dialogContainer__header"],["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close",""],[1,"material-symbols-outlined"],["novalidate","novalidate","autocomplete","off",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],["appearance","outline",1,"col-lg-12"],["matInput","","maxlength","40","formControlName","RTitle","placeholder","T\xedtulo"],["align","start"],["align","end"],[4,"ngIf"],["matInput","","formControlName","REventDate",3,"matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["REventDate",""],["matInput","","formControlName","RPublicationDate",3,"matDatepicker"],["RPublicationDate",""],["matInput","","formControlName","RIssueDate",3,"matDatepicker"],["RIssueDate",""],[1,"z-container-raddio-button"],[1,"z-label"],["formControlName","RVisibility",1,"z-radio-group"],["value","P\xfablico",1,"z-radio-button"],["value","Privado",1,"z-radio-button"],["mat-button","","mat-dialog-close",""],["mat-button","",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],[1,"fas","fa-exclamation-circle","mr-1"],["mat-button",""],["mat-button","","disabled",""]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Actualizar P.I.E"),t.qZA(),t.TgZ(4,"button",3)(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"form",5),t.NdJ("ngSubmit",function(){return c.update()}),t.TgZ(8,"div",6)(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),t._uU(12,"T\xedtulo"),t.qZA(),t._UZ(13,"input",9),t.TgZ(14,"mat-hint",10),t._uU(15,"El t\xedtulo debe tener como m\xe1ximo 40 caracteres. "),t.qZA(),t.TgZ(16,"mat-hint",11),t._uU(17),t.qZA(),t.YNc(18,J,3,2,"mat-error",12),t.qZA(),t.TgZ(19,"mat-form-field",8)(20,"mat-label"),t._uU(21,"Fecha de evento"),t.qZA(),t._UZ(22,"input",13),t.TgZ(23,"mat-hint"),t._uU(24,"MM/DD/YYYY"),t.qZA(),t._UZ(25,"mat-datepicker-toggle",14)(26,"mat-datepicker",15,16),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"Fecha de publicaci\xf3n"),t.qZA(),t._UZ(31,"input",17),t.TgZ(32,"mat-hint"),t._uU(33,"MM/DD/YYYY"),t.qZA(),t._UZ(34,"mat-datepicker-toggle",14)(35,"mat-datepicker",15,18),t.qZA(),t.TgZ(37,"mat-form-field",8)(38,"mat-label"),t._uU(39,"Fecha de emisi\xf3n"),t.qZA(),t._UZ(40,"input",19),t.TgZ(41,"mat-hint"),t._uU(42,"MM/DD/YYYY"),t.qZA(),t._UZ(43,"mat-datepicker-toggle",14)(44,"mat-datepicker",15,20),t.qZA(),t.TgZ(46,"mat-form-field",8)(47,"mat-label"),t._uU(48,"Fecha de evento"),t.qZA(),t._UZ(49,"input",13),t.TgZ(50,"mat-hint"),t._uU(51,"MM/DD/YYYY"),t.qZA(),t._UZ(52,"mat-datepicker-toggle",14)(53,"mat-datepicker",15,16),t.qZA(),t.TgZ(55,"div",21)(56,"label",22),t._uU(57,"Seleccionar la visibilidad"),t.qZA(),t.TgZ(58,"mat-radio-group",23)(59,"mat-radio-button",24),t._uU(60," P\xfablico "),t.qZA(),t.TgZ(61,"mat-radio-button",25),t._uU(62," Privado "),t.qZA()()()()(),t.TgZ(63,"mat-dialog-actions",11)(64,"button",26),t._uU(65,"Cancelar"),t.qZA(),t.YNc(66,j,2,0,"button",27),t.ALo(67,"async"),t.YNc(68,tt,2,0,"button",28),t.ALo(69,"async"),t.qZA()()()),2&n){const u=t.MAs(27),p=t.MAs(36),m=t.MAs(45);t.xp6(7),t.Q6J("formGroup",c.formUpdate),t.xp6(10),t.hij("",c.RTitle.value.length," / 40"),t.xp6(1),t.Q6J("ngIf",c.errorMatcher.isErrorState(c.RTitle,null)),t.xp6(4),t.Q6J("matDatepicker",u),t.xp6(3),t.Q6J("for",u),t.xp6(6),t.Q6J("matDatepicker",p),t.xp6(3),t.Q6J("for",p),t.xp6(6),t.Q6J("matDatepicker",m),t.xp6(3),t.Q6J("for",m),t.xp6(6),t.Q6J("matDatepicker",u),t.xp6(3),t.Q6J("for",u),t.xp6(14),t.Q6J("ngIf",!t.lcZ(67,13,c.updateIsLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(69,15,c.updateIsLoading$))}},dependencies:[o.O5,a._Y,a.Fj,a.JJ,a.JL,a.nD,a.sg,a.u,R.ZT,R.uh,R.xY,R.H8,h.TO,h.KE,h.bx,h.hX,h.R9,C.Nt,D.Hw,A.lW,_.VQ,_.U0,N.Mq,N.hl,N.nW,o.Ov]}),e})();var w=r(1572),k=r(266),nt=r(6303);function it(e,i){1&e&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"mat-spinner"),t.qZA()())}function ot(e,i){1&e&&(t.TgZ(0,"th",35),t._uU(1,"No"),t.qZA())}function at(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=i.index;t.xp6(1),t.Oqu(n+1)}}function rt(e,i){1&e&&(t.TgZ(0,"th",37),t._uU(1,"T\xedtulo"),t.qZA())}function ct(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.RTitle)}}function st(e,i){1&e&&(t.TgZ(0,"th",37),t._uU(1,"Resumen"),t.qZA())}function lt(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.RSummary)}}function dt(e,i){1&e&&(t.TgZ(0,"th",37),t._uU(1,"Fecha de publicaci\xf3n"),t.qZA())}function ut(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,n.RPublicationDate,"medium"))}}function pt(e,i){1&e&&(t.TgZ(0,"th",37),t._uU(1,"Fecha de emisi\xf3n"),t.qZA())}function mt(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,n.RIssueDate,"medium"))}}function gt(e,i){1&e&&(t.TgZ(0,"th",37),t._uU(1,"Fecha de evento"),t.qZA())}function ft(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,n.REventDate,"medium"))}}function Rt(e,i){1&e&&(t.TgZ(0,"th",37),t._uU(1,"Fecha de creaci\xf3n"),t.qZA())}function _t(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,n.RDateRegister,"medium"))}}function ht(e,i){1&e&&(t.TgZ(0,"th",37),t._uU(1,"Visibilidad"),t.qZA())}function It(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.RVisibility)}}function Tt(e,i){1&e&&(t.TgZ(0,"th",37),t._uU(1,"Usuario"),t.qZA())}function Dt(e,i){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.user.FullName)}}function At(e,i){1&e&&(t.TgZ(0,"th",37),t._uU(1,"Estado"),t.qZA())}function Zt(e,i){1&e&&t._UZ(0,"div",40)}function Ct(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"span",41),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,p=t.oxw(2);return t.KtG(p.changeState(u))}),t._UZ(1,"mat-icon",42),t._uU(2),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("ngClass",n.RState?"z-badge-success":"z-badge-danger"),t.xp6(2),t.hij(" ",n.RState?"Activo":"Inactivo"," ")}}function Et(e,i){if(1&e&&(t.TgZ(0,"td",36),t.YNc(1,Zt,1,0,"div",38),t.ALo(2,"async"),t.YNc(3,Ct,3,2,"span",39),t.ALo(4,"async"),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,n.updateIsLoading$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(4,4,n.updateIsLoading$))}}function vt(e,i){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Acciones"),t.qZA())}function Nt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",36)(1,"button",43),t.NdJ("click",function(){const p=t.CHM(n).$implicit,m=t.oxw(2);return t.KtG(m.openRecognitionUpdate(p))}),t._UZ(2,"mat-icon",44),t.qZA(),t.TgZ(3,"a",45),t.ALo(4,"staticFile"),t._UZ(5,"mat-icon",46),t.qZA()()}if(2&e){const n=i.$implicit;t.xp6(3),t.s9C("href",t.lcZ(4,1,n.RFile),t.LSH)}}function Ut(e,i){1&e&&t._UZ(0,"tr",47)}function xt(e,i){1&e&&t._UZ(0,"tr",48)}function Ot(e,i){if(1&e&&(t.TgZ(0,"div",17)(1,"table",18),t.ynx(2,19),t.YNc(3,ot,2,0,"th",20),t.YNc(4,at,2,1,"td",21),t.BQk(),t.ynx(5,22),t.YNc(6,rt,2,0,"th",23),t.YNc(7,ct,2,1,"td",21),t.BQk(),t.ynx(8,24),t.YNc(9,st,2,0,"th",23),t.YNc(10,lt,2,1,"td",21),t.BQk(),t.ynx(11,25),t.YNc(12,dt,2,0,"th",23),t.YNc(13,ut,3,4,"td",21),t.BQk(),t.ynx(14,26),t.YNc(15,pt,2,0,"th",23),t.YNc(16,mt,3,4,"td",21),t.BQk(),t.ynx(17,27),t.YNc(18,gt,2,0,"th",23),t.YNc(19,ft,3,4,"td",21),t.BQk(),t.ynx(20,28),t.YNc(21,Rt,2,0,"th",23),t.YNc(22,_t,3,4,"td",21),t.BQk(),t.ynx(23,29),t.YNc(24,ht,2,0,"th",23),t.YNc(25,It,2,1,"td",21),t.BQk(),t.ynx(26,30),t.YNc(27,Tt,2,0,"th",23),t.YNc(28,Dt,2,1,"td",21),t.BQk(),t.ynx(29,31),t.YNc(30,At,2,0,"th",23),t.YNc(31,Et,5,6,"td",21),t.BQk(),t.ynx(32,32),t.YNc(33,vt,2,0,"th",20),t.YNc(34,Nt,6,3,"td",21),t.BQk(),t.YNc(35,Ut,1,0,"tr",33),t.YNc(36,xt,1,0,"tr",34),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(34),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}const Lt=function(){return[5,10,25,100]},yt=[{path:"",component:(()=>{class e{constructor(n,c){this.recognitionFacade=n,this.matDialog=c,this.subscriptors=[],this.displayedColumns=["IdRecognition","RTitle","RSummary","RPublicationDate","RIssueDate","REventDate","RDateRegister","RVisibility","IdUser","RState","z-actions"],this.pagination={limit:1e5,offset:0,filter:"ALL"},this.findAllResponse$=this.recognitionFacade.findAllResponse$,this.findAllIsLoading$=this.recognitionFacade.findAllIsLoading$,this.updateIsLoading$=this.recognitionFacade.updateIsLoading$}ngOnInit(){this.recognitionFacade.findAll(this.pagination)}ngAfterViewInit(){this.findAll()}findAll(){this.subscriptors.push(this.findAllResponse$.subscribe({next:n=>{setTimeout(()=>{this.dataSource=new f.by(n?.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},10)}}))}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}changeState(n){this.recognitionFacade.update(n.IdRecognition,{RState:!n.RState}),setTimeout(()=>{this.recognitionFacade.findAll(this.pagination),this.findAll()},100)}openRecognitionCreate(){this.matDialog.open(s,{width:"500px",maxWidth:"80%",maxHeight:"100%"}).afterClosed().subscribe(()=>this.recognitionFacade.findAll(this.pagination))}openRecognitionUpdate(n){this.matDialog.open(et,{width:"500px",maxWidth:"80%",maxHeight:"100%",data:n}).afterClosed().subscribe(()=>this.recognitionFacade.findAll(this.pagination))}ngOnDestroy(){this.subscriptors.forEach(n=>n.unsubscribe()),this.subscriptors=[]}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(E.N),t.Y36(R.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["z-recognition"]],viewQuery:function(n,c){if(1&n&&(t.Gf(x.NW,5),t.Gf(l.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(c.paginator=u.first),t.iGM(u=t.CRH())&&(c.sort=u.first)}},decls:22,vars:9,consts:[[1,"z-breadcrumb"],[1,"row"],[1,"col-12"],[1,"col-8"],[1,"z-search"],["matInput","","placeholder","Buscar...",3,"keyup"],["mat-icon-button",""],["matPrefix",""],[1,"col-4","d-flex","justify-content-end","align-items-center"],["type","button",1,"z-btn","mb-3",3,"click"],["fontIcon","add"],[1,"z-container"],["class","z-container-loading",4,"ngIf"],["class","z-table-container",4,"ngIf"],[3,"pageSizeOptions","pageSize"],[1,"z-container-loading"],[1,"z-loading-shade"],[1,"z-table-container"],["mat-table","","matSort","",1,"z-table",3,"dataSource"],["matColumnDef","IdRecognition"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","RTitle"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","RSummary"],["matColumnDef","RPublicationDate"],["matColumnDef","RIssueDate"],["matColumnDef","REventDate"],["matColumnDef","RDateRegister"],["matColumnDef","RVisibility"],["matColumnDef","IdUser"],["matColumnDef","RState"],["matColumnDef","z-actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["class","spinner-border","role","status",4,"ngIf"],["class","z-badge",3,"ngClass","click",4,"ngIf"],["role","status",1,"spinner-border"],[1,"z-badge",3,"ngClass","click"],["fontIcon","check"],["matTooltip","Editar","mat-icon-button","","matTooltipClass","z-tooltip",1,"z-btn-action",3,"click"],["fontIcon","edit",1,"material-symbols-outlined"],["target","_blank","matTooltip","Visualizar","mat-icon-button","","matTooltipClass","z-tooltip",1,"z-btn-action",3,"href"],["fontIcon","visibility",1,"material-symbols-outlined"],["mat-header-row",""],["mat-row",""]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Administrar reconocimientos"),t.qZA()()()(),t.TgZ(5,"div",1)(6,"div",3)(7,"div",4)(8,"input",5),t.NdJ("keyup",function(p){return c.applyFilter(p)}),t.qZA(),t.TgZ(9,"button",6)(10,"mat-icon",7),t._uU(11,"search"),t.qZA()()()(),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return c.openRecognitionCreate()}),t._UZ(14,"mat-icon",10),t._uU(15," Crear "),t.qZA()()(),t.TgZ(16,"div",11),t.YNc(17,it,3,0,"div",12),t.ALo(18,"async"),t.YNc(19,Ot,37,3,"div",13),t.ALo(20,"async"),t._UZ(21,"mat-paginator",14),t.qZA()),2&n&&(t.xp6(17),t.Q6J("ngIf",t.lcZ(18,4,c.findAllIsLoading$)),t.xp6(2),t.Q6J("ngIf",null!==t.lcZ(20,6,c.findAllResponse$)),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(8,Lt))("pageSize",12))},dependencies:[o.mk,o.O5,h.qo,C.Nt,D.Hw,w.Ou,A.lW,A.zs,k.gM,l.YE,l.nU,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,x.NW,o.Ov,o.uU,nt.q]}),e})()}];let bt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(yt),g.Bz]}),e})();var T=r(9653),L=r(4026),d=r(8115);const St=(0,T.Lq)({findAll:{response:null,exception:null,isLoading:!1,pagination:null},create:{createRecognitionDto:null,exception:null,isLoading:!1,response:null},findOne:{exception:null,isLoading:!1,response:null,id:null},update:{updateRecognitionDto:null,exception:null,id:void 0,isLoading:!1,response:null}},(0,T.on)(d.zv,(e,{payload:i})=>({...e,create:{createRecognitionDto:i,exception:null,isLoading:!0,response:null}})),(0,T.on)(d._9,(e,{payload:i})=>({...e,create:{createRecognitionDto:null,exception:null,isLoading:!1,response:i}})),(0,T.on)(d.MB,(e,{payload:i})=>({...e,create:{createRecognitionDto:null,exception:i,isLoading:!1,response:null}})),(0,T.on)(d.Az,(e,{payload:i})=>({...e,findAll:{response:null,exception:null,isLoading:!0,pagination:i}})),(0,T.on)(d.zL,(e,{payload:i})=>({...e,findAll:{response:i,exception:null,isLoading:!1,pagination:null}})),(0,T.on)(d.mU,(e,{payload:i})=>({...e,findAll:{response:null,exception:i,isLoading:!1,pagination:null}})),(0,T.on)(d.tD,(e,{payload:i})=>({...e,findOne:{exception:null,isLoading:!0,response:null,id:i}})),(0,T.on)(d.Ln,(e,{payload:i})=>({...e,findOne:{exception:null,isLoading:!1,response:i,id:null}})),(0,T.on)(d.m8,(e,{payload:i})=>({...e,findOne:{exception:i,isLoading:!1,response:null,id:null}})),(0,T.on)(d.ch,(e,{payload:i,id:n})=>({...e,update:{updateRecognitionDto:i,exception:null,id:n,isLoading:!0,response:null}})),(0,T.on)(d.l4,(e,{payload:i})=>({...e,update:{updateRecognitionDto:null,exception:null,id:void 0,isLoading:!1,response:i}})),(0,T.on)(d.KZ,(e,{payload:i})=>({...e,update:{updateRecognitionDto:null,exception:i,id:void 0,isLoading:!1,response:null}})));function Pt(e,i){return St(e,i)}var v=r(493),B=r(3900),b=r(4004),F=r(262),V=r(5577),S=r(9646),qt=r(9019),Yt=r(529);let H=(()=>{class e{constructor(n){this.httpClient=n,this.ZPRecognition=qt.N.zephyrus.recognition}create(n){return this.httpClient.post(this.ZPRecognition,n)}findAll(n){const{limit:c,offset:u,filter:p}=n;return this.httpClient.get(`${this.ZPRecognition}?limit=${c}&offset=${u}&filter=${p}`)}findOne(n){return this.httpClient.get(`${this.ZPRecognition}/${n}`)}update(n,c){return this.httpClient.patch(`${this.ZPRecognition}/${n}`,c)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(Yt.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var K=r(3208);let zt=(()=>{class e{constructor(n,c,u){this.actions$=n,this.recognitionService=c,this.matSnackBarService=u,this.create$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.zv),(0,B.w)(p=>this.recognitionService.create(p.payload).pipe((0,b.U)(m=>(this.matSnackBarService.open("success",L.MB.success),d._9({payload:m}))),(0,F.K)(m=>(this.matSnackBarService.open("error",L.MB.error),(0,S.of)(d.MB({payload:m})))))))),this.findAll$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.Az),(0,V.z)(p=>this.recognitionService.findAll(p.payload).pipe((0,b.U)(m=>d.zL({payload:m})),(0,F.K)(m=>(0,S.of)(d.mU({payload:m}))))))),this.findOne$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.tD),(0,V.z)(p=>this.recognitionService.findOne(p.payload).pipe((0,b.U)(m=>d.Ln({payload:m})),(0,F.K)(m=>(0,S.of)(d.m8({payload:m}))))))),this.update$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(d.ch),(0,B.w)(p=>this.recognitionService.update(p.id||"",p.payload).pipe((0,b.U)(m=>(this.matSnackBarService.open("success",L.MB.success),d.l4({payload:m}))),(0,F.K)(m=>(this.matSnackBarService.open("error",L.MB.error),(0,S.of)(d.KZ({payload:m}))))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(v.eX),t.LFG(H),t.LFG(K.s))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var Mt=r(7009),Qt=r(9318),$t=r(7331),W=r(4385),Gt=r(9552),X=r(3238);let Jt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[o.ez,a.UX,R.Is,h.lN,C.c,D.Ps,A.ot,W.LD,_.Fk,Gt.b,N.FA,X.XK]}),e})(),wt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[o.ez,a.UX,R.Is,h.lN,C.c,D.Ps,A.ot,W.LD,_.Fk,N.FA,X.XK]}),e})(),kt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[H,K.s,E.N],imports:[o.ez,bt,T.Aw.forFeature(L.CN.recognition,Pt),v.sQ.forFeature([zt]),Mt.ZX,a.UX,h.lN,C.c,D.Ps,w.Cq,Qt.J,$t.Hi,A.ot,k.AV,l.JX,f.p0,x.TU,R.Is,Jt,wt,T.Aw,v.sQ]}),e})()},8115:(P,U,r)=>{r.d(U,{Az:()=>a,KZ:()=>A,Ln:()=>R,MB:()=>f,_9:()=>l,ch:()=>C,l4:()=>D,m8:()=>h,mU:()=>t,tD:()=>E,zL:()=>I,zv:()=>x});var o=r(9653),g=(()=>{return(_=g||(g={})).RECOGNITION_CREATE_REQUESTED="[Recognition] CREATE Requested",_.RECOGNITION_CREATE_LOADED="[Recognition] CREATE Loaded",_.RECOGNITION_CREATE_FAILED="[Recognition] CREATE Failed",_.RECOGNITION_FIND_ALL_REQUESTED="[Recognition] FIND ALL Requested",_.RECOGNITION_FIND_ALL_LOADED="[Recognition] FIND ALL Loaded",_.RECOGNITION_FIND_ALL_FAILED="[Recognition] FIND ALL Failed",_.RECOGNITION_FIND_ONE_REQUESTED="[Recognition] FIND ONE Requested",_.RECOGNITION_FIND_ONE_LOADED="[Recognition] FIND ONE Loaded",_.RECOGNITION_FIND_ONE_FAILED="[Recognition] FIND ONE Failed",_.RECOGNITION_UPDATE_REQUESTED="[Recognition] UPDATE Requested",_.RECOGNITION_UPDATE_LOADED="[Recognition] UPDATE Loaded",_.RECOGNITION_UPDATE_FAILED="[Recognition] UPDATE Failed",g;var _})();const x=(0,o.PH)(g.RECOGNITION_CREATE_REQUESTED,(0,o.Ky)()),l=(0,o.PH)(g.RECOGNITION_CREATE_LOADED,(0,o.Ky)()),f=(0,o.PH)(g.RECOGNITION_CREATE_FAILED,(0,o.Ky)()),a=(0,o.PH)(g.RECOGNITION_FIND_ALL_REQUESTED,(0,o.Ky)()),I=(0,o.PH)(g.RECOGNITION_FIND_ALL_LOADED,(0,o.Ky)()),t=(0,o.PH)(g.RECOGNITION_FIND_ALL_FAILED,(0,o.Ky)()),E=(0,o.PH)(g.RECOGNITION_FIND_ONE_REQUESTED,(0,o.Ky)()),R=(0,o.PH)(g.RECOGNITION_FIND_ONE_LOADED,(0,o.Ky)()),h=(0,o.PH)(g.RECOGNITION_FIND_ONE_FAILED,(0,o.Ky)()),C=(0,o.PH)(g.RECOGNITION_UPDATE_REQUESTED,(0,o.Ky)()),D=(0,o.PH)(g.RECOGNITION_UPDATE_LOADED,(0,o.Ky)()),A=(0,o.PH)(g.RECOGNITION_UPDATE_FAILED,(0,o.Ky)())}}]);