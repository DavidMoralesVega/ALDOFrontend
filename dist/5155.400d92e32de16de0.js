"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5155],{7782:(Q,y,o)=>{o.d(y,{M:()=>c});var n=o(4650),p=o(3208),h=o(7392);let c=(()=>{class U{constructor(u){this.matSnackBarService=u,this.onUpload=new n.vpe,this.imagePreview="assets/brand/placeholder-avatar.webp",this.imageName="Archivo no seleccionado",this.isValidImage=!1}ngOnInit(){}onFileChange(u){if(u.target.files&&u.target.files[0]){const Z=u.target.files[0],f=Z.size,C=2097152;if(this.isImage=["image/jpeg","image/png","application/pdf"].includes(Z.type),this.isImage)if(f>C)this.matSnackBarService.open("warning","La imagen no puede ser mayor a 2 MB"),this.isValidImage=!1,this.imageName="Archivo no seleccionado";else{const T=new FileReader;T.onload=I=>this.imagePreview=I.target.result,T.readAsDataURL(Z),this.imageName=Z.name,this.isValidImage=!0}else this.matSnackBarService.open("warning","Selecciona una imagen para subirla"),this.isValidImage=!1,this.imageName="Archivo no seleccionado";this.onUpload.emit({file:Z,isValidImage:this.isValidImage})}}}return U.\u0275fac=function(u){return new(u||U)(n.Y36(p.s))},U.\u0275cmp=n.Xpm({type:U,selectors:[["z-upload-input-type-document"]],outputs:{onUpload:"onUpload"},decls:11,vars:1,consts:[[1,"z-container-image-upload"],[1,"upload-input-container"],[1,"input-container"],["type","file","accept","application/pdf",3,"change"],["type","button",1,"z-btn","btn-upload"],["fontIcon","picture_as_pdf"]],template:function(u,Z){1&u&&(n.TgZ(0,"div",0)(1,"div")(2,"h6")(3,"small"),n._uU(4),n.qZA()()(),n.TgZ(5,"div",1)(6,"div",2)(7,"input",3),n.NdJ("change",function(E){return Z.onFileChange(E)}),n.qZA()(),n.TgZ(8,"button",4),n._UZ(9,"mat-icon",5),n._uU(10," A\xf1adir documento *.pdf "),n.qZA()()()),2&u&&(n.xp6(4),n.Oqu(Z.imageName))},dependencies:[h.Hw]}),U})()},5155:(Q,y,o)=>{o.r(y),o.d(y,{CallsModule:()=>Gt});var n=o(6895),p=o(6582),h=o(7155),c=o(8739),U=o(6308),i=o(4006),u=o(4026),Z=o(3829),t=o(4650),E=o(9558),f=o(5412),C=o(9549),T=o(4144),I=o(7392),m=o(4859),b=o(4385),S=o(3238),x=o(9602),Y=o(7782),N=o(1948);function z(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",32),t._uU(2," El titulo es requerida. "),t.qZA())}function F(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",32),t._uU(2," El titulo debe tener como m\xe1ximo 100 caracteres. "),t.qZA())}function O(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",32),t._uU(2," El titulo solo debe de tener cadenas de texto. "),t.qZA())}function R(e,l){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,z,3,0,"span",14),t.YNc(2,F,3,0,"span",14),t.YNc(3,O,3,0,"span",14),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",null==a.call_title.errors?null:a.call_title.errors.required),t.xp6(1),t.Q6J("ngIf",null==a.call_title.errors?null:a.call_title.errors.maxlength),t.xp6(1),t.Q6J("ngIf",null==a.call_title.errors?null:a.call_title.errors.pattern)}}function r(e,l){if(1&e&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.Q6J("value",a.value),t.xp6(1),t.hij(" ",a.key," ")}}function J(e,l){if(1&e&&(t.TgZ(0,"mat-option",33),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.Q6J("value",a.value),t.xp6(1),t.hij(" ",a.key," ")}}function v(e,l){1&e&&(t.TgZ(0,"button",34),t._uU(1,"Guardar"),t.qZA())}function M(e,l){1&e&&(t.TgZ(0,"button",35),t._uU(1,"Guardando..."),t.qZA())}let G=(()=>{class e{constructor(a){this.callFacade=a,this.errorMatcher=new Z.U,this.formCreate=new i.cw({}),this.ZListsModalidad=u.HJ,this.ZListsSesiones=u.DL,this.isValidImage=!1,this.createIsLoading$=a.createIsLoading$}ngOnInit(){this.initFormCreate(),console.log(this.filteredOptions)}initFormCreate(){this.formCreate=new i.cw({call_title:new i.NI("",[i.kI.required]),call_hours:new i.NI("",[i.kI.required]),call_modality:new i.NI("",[i.kI.required]),call_numSession:new i.NI("",[i.kI.required]),call_dateUpdate:new i.NI("",[i.kI.required]),CallVisibility:new i.NI("",[i.kI.required])})}get call_title(){return this.formCreate.get("call_title")}get call_hours(){return this.formCreate.get("call_hours")}get call_modality(){return this.formCreate.get("call_modality")}get call_numSession(){return this.formCreate.get("call_numSession")}get call_dateUpdate(){return this.formCreate.get("call_dateUpdate")}get CallVisibility(){return this.formCreate.get("CallVisibility")}_filterLabels(a){return a}create(){if(console.log(typeof this.call_hours.value),this.formCreate.invalid)return;let a=new FormData;a.append("call_title",this.call_title.value),a.append("call_hours",this.call_hours.value),a.append("call_modality",this.call_modality.value),a.append("call_dateUpdate",this.call_dateUpdate.value),a.append("CallVisibility",this.CallVisibility.value),a.append("call_numSession",this.call_numSession.value),a.append("CallFile",this.file),this.callFacade.create(a)}handleUpload(a){this.isValidImage=a.isValid,this.file=a.file}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(E.k))},e.\u0275cmp=t.Xpm({type:e,selectors:[["z-calls-create"]],decls:59,vars:13,consts:[[1,"dialogContainer"],[1,"dialogContainer__header"],["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close",""],[1,"material-symbols-outlined"],["novalidate","novalidate","autocomplete","off",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-12"],[3,"onUpload"],["appearance","outline",1,"col-lg-12"],["matInput","","maxlength","100","formControlName","call_title","placeholder","Titulo"],["align","start"],["align","end"],[4,"ngIf"],["formControlName","call_modality"],[3,"value",4,"ngFor","ngForOf"],["formControlName","call_numSession"],["appearance","outline",1,"mt-2"],["type","time","matInput","","name","week","min","09:00","max","18:00","formControlName","call_hours"],["matInput","","formControlName","call_dateUpdate",3,"matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["call_dateUpdate",""],[1,"z-container-raddio-button"],[1,"z-label"],["formControlName","CallVisibility",1,"z-radio-group"],["value","P\xfablico",1,"z-radio-button"],["value","Privado",1,"z-radio-button"],["mat-button","","mat-dialog-close",""],["mat-button","",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],[1,"fas","fa-exclamation-circle","mr-1"],[3,"value"],["mat-button",""],["mat-button","","disabled",""]],template:function(a,s){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Crear Convocatoria"),t.qZA(),t.TgZ(4,"button",3)(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"form",5),t.NdJ("ngSubmit",function(){return s.create()}),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"z-upload-input-type-document",9),t.NdJ("onUpload",function(g){return s.handleUpload(g)}),t.qZA()(),t.TgZ(12,"mat-form-field",10)(13,"mat-label"),t._uU(14,"Titulo"),t.qZA(),t._UZ(15,"input",11),t.TgZ(16,"mat-hint",12),t._uU(17,"El titulo debe tener como m\xe1ximo 100 caracteres. "),t.qZA(),t.TgZ(18,"mat-hint",13),t._uU(19),t.qZA(),t.YNc(20,R,4,3,"mat-error",14),t.qZA(),t.TgZ(21,"mat-form-field",10)(22,"mat-label"),t._uU(23,"Modalidad"),t.qZA(),t.TgZ(24,"mat-select",15),t.YNc(25,r,2,2,"mat-option",16),t.qZA()(),t.TgZ(26,"mat-form-field",10)(27,"mat-label"),t._uU(28,"Nro Sesion"),t.qZA(),t.TgZ(29,"mat-select",17),t.YNc(30,J,2,2,"mat-option",16),t.qZA()(),t.TgZ(31,"mat-form-field",18)(32,"mat-label"),t._uU(33,"Hora"),t.qZA(),t._UZ(34,"input",19),t.qZA(),t.TgZ(35,"mat-form-field",10)(36,"mat-label"),t._uU(37,"Fecha de Sesi\xf3n"),t.qZA(),t._UZ(38,"input",20),t.TgZ(39,"mat-hint"),t._uU(40,"MM/DD/YYYY"),t.qZA(),t._UZ(41,"mat-datepicker-toggle",21)(42,"mat-datepicker",22,23),t.qZA(),t.TgZ(44,"div",24)(45,"label",25),t._uU(46,"Seleccionar la visibilidad"),t.qZA(),t.TgZ(47,"mat-radio-group",26)(48,"mat-radio-button",27),t._uU(49," P\xfablico "),t.qZA(),t.TgZ(50,"mat-radio-button",28),t._uU(51," Privado "),t.qZA()()()()(),t.TgZ(52,"mat-dialog-actions",13)(53,"button",29),t._uU(54,"Cancelar"),t.qZA(),t.YNc(55,v,2,0,"button",30),t.ALo(56,"async"),t.YNc(57,M,2,0,"button",31),t.ALo(58,"async"),t.qZA()()()),2&a){const _=t.MAs(43);t.xp6(7),t.Q6J("formGroup",s.formCreate),t.xp6(12),t.hij("",s.call_title.value.length," / 100"),t.xp6(1),t.Q6J("ngIf",s.errorMatcher.isErrorState(s.call_title,null)),t.xp6(5),t.Q6J("ngForOf",s.ZListsModalidad),t.xp6(5),t.Q6J("ngForOf",s.ZListsSesiones),t.xp6(8),t.Q6J("matDatepicker",_),t.xp6(3),t.Q6J("for",_),t.xp6(14),t.Q6J("ngIf",!t.lcZ(56,9,s.createIsLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(58,11,s.createIsLoading$))}},dependencies:[n.sg,n.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,f.ZT,f.uh,f.xY,f.H8,C.TO,C.KE,C.bx,C.hX,C.R9,T.Nt,I.Hw,m.lW,b.gD,S.ey,x.Mq,x.hl,x.nW,Y.M,N.VQ,N.U0,n.Ov]}),e})();function W(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",26),t._uU(2," El titulo es requerida. "),t.qZA())}function j(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",26),t._uU(2," El titulo debe tener como m\xe1ximo 100 caracteres. "),t.qZA())}function X(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",26),t._uU(2," El titulo solo debe de tener cadenas de texto. "),t.qZA())}function tt(e,l){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,W,3,0,"span",12),t.YNc(2,j,3,0,"span",12),t.YNc(3,X,3,0,"span",12),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",null==a.call_title.errors?null:a.call_title.errors.required),t.xp6(1),t.Q6J("ngIf",null==a.call_title.errors?null:a.call_title.errors.maxlength),t.xp6(1),t.Q6J("ngIf",null==a.call_title.errors?null:a.call_title.errors.pattern)}}function et(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",26),t._uU(2," La modalidad es requerida. "),t.qZA())}function at(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",26),t._uU(2," La modalidad debe tener como m\xe1ximo 100 caracteres. "),t.qZA())}function lt(e,l){1&e&&(t.TgZ(0,"span"),t._UZ(1,"i",26),t._uU(2," La modalidad solo debe de tener cadenas de texto. "),t.qZA())}function nt(e,l){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,et,3,0,"span",12),t.YNc(2,at,3,0,"span",12),t.YNc(3,lt,3,0,"span",12),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",null==a.call_modality.errors?null:a.call_modality.errors.required),t.xp6(1),t.Q6J("ngIf",null==a.call_modality.errors?null:a.call_modality.errors.maxlength),t.xp6(1),t.Q6J("ngIf",null==a.call_modality.errors?null:a.call_modality.errors.pattern)}}function ot(e,l){1&e&&(t.TgZ(0,"button",27),t._uU(1,"Guardar"),t.qZA())}function it(e,l){1&e&&(t.TgZ(0,"button",28),t._uU(1,"Guardando..."),t.qZA())}let st=(()=>{class e{constructor(a,s){this.callAdapter=a,this.callFacade=s,this.errorMatcher=new Z.U,this.formUpdate=new i.cw({}),this.updateIsLoading$=s.updateIsLoading$}ngOnInit(){this.initFormUpdate()}initFormUpdate(){this.formUpdate=new i.cw({call_title:new i.NI(this.callAdapter.call_title,[i.kI.required,i.kI.pattern("[a-zA-Z]{1,100}")]),call_hours:new i.NI(this.callAdapter.call_hours,[i.kI.required]),call_modality:new i.NI(this.callAdapter.call_modality,[i.kI.required,i.kI.pattern("[a-zA-Z]{1,100}")]),call_dateUpdate:new i.NI(this.callAdapter.call_dateUpdate,[i.kI.required]),CallVisibility:new i.NI(this.callAdapter.CallVisibility,[i.kI.required])})}get call_title(){return this.formUpdate.get("call_title")}get call_hours(){return this.formUpdate.get("call_hours")}get call_modality(){return this.formUpdate.get("call_modality")}get call_dateUpdate(){return this.formUpdate.get("call_dateUpdate")}get CallVisibility(){return this.formUpdate.get("CallVisibility")}update(){this.formUpdate.invalid||this.callFacade.update(this.callAdapter.call_id,{call_title:this.call_title.value,call_hours:this.call_hours.value,call_modality:this.call_modality.value,call_dateUpdate:this.call_dateUpdate.value,CallVisibility:this.CallVisibility.value})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(f.WI),t.Y36(E.k))},e.\u0275cmp=t.Xpm({type:e,selectors:[["z-calls-update"]],decls:52,vars:13,consts:[[1,"dialogContainer"],[1,"dialogContainer__header"],["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close",""],[1,"material-symbols-outlined"],["novalidate","novalidate","autocomplete","off",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],["appearance","outline",1,"col-lg-12"],["matInput","","maxlength","100","formControlName","call_title","placeholder","Titulo"],["align","start"],["align","end"],[4,"ngIf"],["matInput","","maxlength","100","formControlName","call_modality","placeholder","Modalidad"],["matInput","","formControlName","call_dateUpdate",3,"matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["call_dateUpdate",""],[1,"z-container-raddio-button"],[1,"z-label"],["formControlName","CallVisibility",1,"z-radio-group"],["value","P\xfablico",1,"z-radio-button"],["value","Privado",1,"z-radio-button"],["mat-button","","mat-dialog-close",""],["mat-button","",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],[1,"fas","fa-exclamation-circle","mr-1"],["mat-button",""],["mat-button","","disabled",""]],template:function(a,s){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Actualizar Convocatoria"),t.qZA(),t.TgZ(4,"button",3)(5,"mat-icon",4),t._uU(6,"close"),t.qZA()()(),t.TgZ(7,"form",5),t.NdJ("ngSubmit",function(){return s.update()}),t.TgZ(8,"div",6)(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),t._uU(12,"Titulo"),t.qZA(),t._UZ(13,"input",9),t.TgZ(14,"mat-hint",10),t._uU(15,"El titulo debe tener como m\xe1ximo 100 caracteres. "),t.qZA(),t.TgZ(16,"mat-hint",11),t._uU(17),t.qZA(),t.YNc(18,tt,4,3,"mat-error",12),t.qZA(),t.TgZ(19,"mat-form-field",8)(20,"mat-label"),t._uU(21,"Modalidad"),t.qZA(),t._UZ(22,"input",13),t.TgZ(23,"mat-hint",10),t._uU(24,"La modalidad debe tener como m\xe1ximo 100 caracteres. "),t.qZA(),t.TgZ(25,"mat-hint",11),t._uU(26),t.qZA(),t.YNc(27,nt,4,3,"mat-error",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"Fecha de actualizacion"),t.qZA(),t._UZ(31,"input",14),t.TgZ(32,"mat-hint"),t._uU(33,"MM/DD/YYYY"),t.qZA(),t._UZ(34,"mat-datepicker-toggle",15)(35,"mat-datepicker",16,17),t.qZA(),t.TgZ(37,"div",18)(38,"label",19),t._uU(39,"Seleccionar la visibilidad"),t.qZA(),t.TgZ(40,"mat-radio-group",20)(41,"mat-radio-button",21),t._uU(42," P\xfablico "),t.qZA(),t.TgZ(43,"mat-radio-button",22),t._uU(44," Privado "),t.qZA()()()()(),t.TgZ(45,"mat-dialog-actions",11)(46,"button",23),t._uU(47,"Cancelar"),t.qZA(),t.YNc(48,ot,2,0,"button",24),t.ALo(49,"async"),t.YNc(50,it,2,0,"button",25),t.ALo(51,"async"),t.qZA()()()),2&a){const _=t.MAs(36);t.xp6(7),t.Q6J("formGroup",s.formUpdate),t.xp6(10),t.hij("",s.call_title.value.length," / 100"),t.xp6(1),t.Q6J("ngIf",s.errorMatcher.isErrorState(s.call_title,null)),t.xp6(8),t.hij("",s.call_modality.value.length," / 100"),t.xp6(1),t.Q6J("ngIf",s.errorMatcher.isErrorState(s.call_modality,null)),t.xp6(4),t.Q6J("matDatepicker",_),t.xp6(3),t.Q6J("for",_),t.xp6(14),t.Q6J("ngIf",!t.lcZ(49,9,s.updateIsLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(51,11,s.updateIsLoading$))}},dependencies:[n.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,f.ZT,f.uh,f.xY,f.H8,C.TO,C.KE,C.bx,C.hX,C.R9,T.Nt,I.Hw,m.lW,x.Mq,x.hl,x.nW,N.VQ,N.U0,n.Ov]}),e})();var w=o(1572),B=o(266),rt=o(6303);function ct(e,l){1&e&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"mat-spinner"),t.qZA()())}function dt(e,l){1&e&&(t.TgZ(0,"th",34),t._uU(1,"No"),t.qZA())}function pt(e,l){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=l.index;t.xp6(1),t.Oqu(a+1)}}function ut(e,l){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Titulo"),t.qZA())}function mt(e,l){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.call_title)}}function _t(e,l){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Gestion"),t.qZA())}function ft(e,l){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.call_management)}}function Ct(e,l){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Modalidad"),t.qZA())}function gt(e,l){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.call_modality)}}function ht(e,l){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Fecha de Actualizacion"),t.qZA())}function At(e,l){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,a.call_dateUpdate,"medium"))}}function Zt(e,l){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Usuario"),t.qZA())}function Lt(e,l){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.user.FullName)}}function Ut(e,l){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Visibilidad"),t.qZA())}function Tt(e,l){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.CallVisibility)}}function vt(e,l){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Fecha de creaci\xf3n"),t.qZA())}function Et(e,l){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,a.call_create,"medium"))}}function It(e,l){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Estado"),t.qZA())}function Dt(e,l){1&e&&t._UZ(0,"div",39)}function xt(e,l){if(1&e){const a=t.EpF();t.TgZ(0,"span",40),t.NdJ("click",function(){t.CHM(a);const _=t.oxw().$implicit,g=t.oxw(2);return t.KtG(g.changeState(_))}),t._UZ(1,"mat-icon",41),t._uU(2),t.qZA()}if(2&e){const a=t.oxw().$implicit;t.Q6J("ngClass",a.call_estado?"z-badge-success":"z-badge-danger"),t.xp6(2),t.hij(" ",a.call_estado?"Activo":"Inactivo"," ")}}function yt(e,l){if(1&e&&(t.TgZ(0,"td",35),t.YNc(1,Dt,1,0,"div",37),t.ALo(2,"async"),t.YNc(3,xt,3,2,"span",38),t.ALo(4,"async"),t.qZA()),2&e){const a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,a.updateIsLoading$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(4,4,a.updateIsLoading$))}}function Nt(e,l){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Acciones"),t.qZA())}function Ft(e,l){if(1&e){const a=t.EpF();t.TgZ(0,"td",35)(1,"button",42),t.NdJ("click",function(){const g=t.CHM(a).$implicit,A=t.oxw(2);return t.KtG(A.openCallUpdate(g))}),t._UZ(2,"mat-icon",43),t.qZA(),t.TgZ(3,"a",44),t.ALo(4,"staticFile"),t._UZ(5,"mat-icon",45),t.qZA()()}if(2&e){const a=l.$implicit;t.xp6(3),t.s9C("href",t.lcZ(4,1,a.CallFile),t.LSH)}}function bt(e,l){1&e&&t._UZ(0,"tr",46)}function St(e,l){1&e&&t._UZ(0,"tr",47)}function Ot(e,l){if(1&e&&(t.TgZ(0,"div",17)(1,"table",18),t.ynx(2,19),t.YNc(3,dt,2,0,"th",20),t.YNc(4,pt,2,1,"td",21),t.BQk(),t.ynx(5,22),t.YNc(6,ut,2,0,"th",23),t.YNc(7,mt,2,1,"td",21),t.BQk(),t.ynx(8,24),t.YNc(9,_t,2,0,"th",23),t.YNc(10,ft,2,1,"td",21),t.BQk(),t.ynx(11,25),t.YNc(12,Ct,2,0,"th",23),t.YNc(13,gt,2,1,"td",21),t.BQk(),t.ynx(14,26),t.YNc(15,ht,2,0,"th",23),t.YNc(16,At,3,4,"td",21),t.BQk(),t.ynx(17,27),t.YNc(18,Zt,2,0,"th",23),t.YNc(19,Lt,2,1,"td",21),t.BQk(),t.ynx(20,28),t.YNc(21,Ut,2,0,"th",23),t.YNc(22,Tt,2,1,"td",21),t.BQk(),t.ynx(23,29),t.YNc(24,vt,2,0,"th",23),t.YNc(25,Et,3,4,"td",21),t.BQk(),t.ynx(26,30),t.YNc(27,It,2,0,"th",23),t.YNc(28,yt,5,6,"td",21),t.BQk(),t.ynx(29,31),t.YNc(30,Nt,2,0,"th",20),t.YNc(31,Ft,6,3,"td",21),t.BQk(),t.YNc(32,bt,1,0,"tr",32),t.YNc(33,St,1,0,"tr",33),t.qZA()()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns)}}const qt=function(){return[5,10,25,100]},Pt=[{path:"",component:(()=>{class e{constructor(a,s){this.callFacade=a,this.matDialog=s,this.subscriptors=[],this.displayedColumns=["call_id","call_title","call_management","call_modality","call_dateUpdate","call_create","CallVisibility","IdUser","call_estado","z-actions"],this.pagination={limit:1e5,offset:0,filter:"ALL"},this.findAllResponse$=this.callFacade.findAllResponse$,this.findAllIsLoading$=this.callFacade.findAllIsLoading$,this.updateIsLoading$=this.callFacade.updateIsLoading$}ngOnInit(){this.callFacade.findAll(this.pagination)}ngAfterViewInit(){this.findAll()}findAll(){this.subscriptors.push(this.findAllResponse$.subscribe({next:a=>{console.log(a),setTimeout(()=>{this.dataSource=new h.by(a?.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},10)}}))}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}changeState(a){this.callFacade.update(a.call_id,{call_estado:!a.call_estado}),setTimeout(()=>{this.callFacade.findAll(this.pagination),this.findAll()},100)}openCallCreate(){this.matDialog.open(G,{width:"500px",maxWidth:"80%",maxHeight:"100%"}).afterClosed().subscribe(()=>this.callFacade.findAll(this.pagination))}openCallUpdate(a){this.matDialog.open(st,{width:"500px",maxWidth:"80%",maxHeight:"100%",data:a}).afterClosed().subscribe(()=>this.callFacade.findAll(this.pagination))}ngOnDestroy(){this.subscriptors.forEach(a=>a.unsubscribe()),this.subscriptors=[]}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(E.k),t.Y36(f.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["z-calls"]],viewQuery:function(a,s){if(1&a&&(t.Gf(c.NW,5),t.Gf(U.YE,5)),2&a){let _;t.iGM(_=t.CRH())&&(s.paginator=_.first),t.iGM(_=t.CRH())&&(s.sort=_.first)}},decls:22,vars:9,consts:[[1,"z-breadcrumb"],[1,"row"],[1,"col-12"],[1,"col-8"],[1,"z-search"],["matInput","","placeholder","Buscar...",3,"keyup"],["mat-icon-button",""],["matPrefix",""],[1,"col-4","d-flex","justify-content-end","align-items-center"],["type","button",1,"z-btn","mb-3",3,"click"],["fontIcon","add"],[1,"z-container"],["class","z-container-loading",4,"ngIf"],["class","z-table-container",4,"ngIf"],[3,"pageSizeOptions","pageSize"],[1,"z-container-loading"],[1,"z-loading-shade"],[1,"z-table-container"],["mat-table","","matSort","",1,"z-table",3,"dataSource"],["matColumnDef","call_id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","call_title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","call_management"],["matColumnDef","call_modality"],["matColumnDef","call_dateUpdate"],["matColumnDef","IdUser"],["matColumnDef","CallVisibility"],["matColumnDef","call_create"],["matColumnDef","call_estado"],["matColumnDef","z-actions","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["class","spinner-border","role","status",4,"ngIf"],["class","z-badge",3,"ngClass","click",4,"ngIf"],["role","status",1,"spinner-border"],[1,"z-badge",3,"ngClass","click"],["fontIcon","check"],["matTooltip","Editar","mat-icon-button","","matTooltipClass","z-tooltip",1,"z-btn-action",3,"click"],["fontIcon","edit",1,"material-symbols-outlined"],["target","_blank","matTooltip","Visualizar","mat-icon-button","","matTooltipClass","z-tooltip",1,"z-btn-action",3,"href"],["fontIcon","visibility",1,"material-symbols-outlined"],["mat-header-row",""],["mat-row",""]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Administrar Convocatorias"),t.qZA()()()(),t.TgZ(5,"div",1)(6,"div",3)(7,"div",4)(8,"input",5),t.NdJ("keyup",function(g){return s.applyFilter(g)}),t.qZA(),t.TgZ(9,"button",6)(10,"mat-icon",7),t._uU(11,"search"),t.qZA()()()(),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return s.openCallCreate()}),t._UZ(14,"mat-icon",10),t._uU(15," Crear "),t.qZA()()(),t.TgZ(16,"div",11),t.YNc(17,ct,3,0,"div",12),t.ALo(18,"async"),t.YNc(19,Ot,34,3,"div",13),t.ALo(20,"async"),t._UZ(21,"mat-paginator",14),t.qZA()),2&a&&(t.xp6(17),t.Q6J("ngIf",t.lcZ(18,4,s.findAllIsLoading$)),t.xp6(2),t.Q6J("ngIf",null!==t.lcZ(20,6,s.findAllResponse$)),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(8,qt))("pageSize",12))},dependencies:[n.mk,n.O5,C.qo,T.Nt,I.Hw,w.Ou,m.lW,m.zs,B.gM,U.YE,U.nU,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,c.NW,n.Ov,n.uU,rt.q]}),e})()}];let $t=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(Pt),p.Bz]}),e})();var L=o(9653),D=o(493),Qt=o(7009),Yt=o(7331),d=o(7210);const Rt=(0,L.Lq)({findAll:{response:null,exception:null,isLoading:!1,pagination:null},create:{createCallDto:null,exception:null,isLoading:!1,response:null},findOne:{exception:null,isLoading:!1,response:null,id:null},update:{updateCallDto:null,exception:null,id:void 0,isLoading:!1,response:null}},(0,L.on)(d.FV,(e,{payload:l})=>({...e,create:{createCallDto:l,exception:null,isLoading:!0,response:null}})),(0,L.on)(d.Q1,(e,{payload:l})=>({...e,create:{createCallDto:null,exception:null,isLoading:!1,response:l}})),(0,L.on)(d.F_,(e,{payload:l})=>({...e,create:{createCallDto:null,exception:l,isLoading:!1,response:null}})),(0,L.on)(d.Br,(e,{payload:l})=>({...e,findAll:{response:null,exception:null,isLoading:!0,pagination:l}})),(0,L.on)(d.C7,(e,{payload:l})=>({...e,findAll:{response:l,exception:null,isLoading:!1,pagination:null}})),(0,L.on)(d.PS,(e,{payload:l})=>({...e,findAll:{response:null,exception:l,isLoading:!1,pagination:null}})),(0,L.on)(d.Dd,(e,{payload:l})=>({...e,findOne:{exception:null,isLoading:!0,response:null,id:l}})),(0,L.on)(d.SB,(e,{payload:l})=>({...e,findOne:{exception:null,isLoading:!1,response:l,id:null}})),(0,L.on)(d.gL,(e,{payload:l})=>({...e,findOne:{exception:l,isLoading:!1,response:null,id:null}})),(0,L.on)(d.oO,(e,{payload:l,id:a})=>({...e,update:{updateCallDto:l,exception:null,id:a,isLoading:!0,response:null}})),(0,L.on)(d.pL,(e,{payload:l})=>({...e,update:{updateCallDto:null,exception:null,id:void 0,isLoading:!1,response:l}})),(0,L.on)(d.E$,(e,{payload:l})=>({...e,update:{updateCallDto:null,exception:l,id:void 0,isLoading:!1,response:null}})));function Jt(e,l){return Rt(e,l)}var V=o(3900),q=o(4004),P=o(262),k=o(5577),$=o(9646),Mt=o(9019),wt=o(529);let H=(()=>{class e{constructor(a){this.httpClient=a,this.ZPCall=Mt.N.zephyrus.call}create(a){return this.httpClient.post(this.ZPCall,a)}findAll(a){const{limit:s,offset:_,filter:g}=a;return this.httpClient.get(`${this.ZPCall}?limit=${s}&offset=${_}&filter=${g}`)}findOne(a){return this.httpClient.get(`${this.ZPCall}/${a}`)}update(a,s){return this.httpClient.patch(`${this.ZPCall}/${a}`,s)}}return e.\u0275fac=function(a){return new(a||e)(t.LFG(wt.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var K=o(3208);let Bt=(()=>{class e{constructor(a,s,_){this.actions$=a,this.callService=s,this.matSnackBarService=_,this.create$=(0,D.GW)(()=>this.actions$.pipe((0,D.l4)(d.FV),(0,V.w)(g=>this.callService.create(g.payload).pipe((0,q.U)(A=>(this.matSnackBarService.open("success",u.MB.success),d.Q1({payload:A}))),(0,P.K)(A=>(this.matSnackBarService.open("error",u.MB.error),(0,$.of)(d.F_({payload:A})))))))),this.findAll$=(0,D.GW)(()=>this.actions$.pipe((0,D.l4)(d.Br),(0,k.z)(g=>this.callService.findAll(g.payload).pipe((0,q.U)(A=>d.C7({payload:A})),(0,P.K)(A=>(0,$.of)(d.PS({payload:A}))))))),this.findOne$=(0,D.GW)(()=>this.actions$.pipe((0,D.l4)(d.Dd),(0,k.z)(g=>this.callService.findOne(g.payload).pipe((0,q.U)(A=>d.SB({payload:A})),(0,P.K)(A=>(0,$.of)(d.gL({payload:A}))))))),this.update$=(0,D.GW)(()=>this.actions$.pipe((0,D.l4)(d.oO),(0,V.w)(g=>this.callService.update(g.id||"",g.payload).pipe((0,q.U)(A=>(this.matSnackBarService.open("success",u.MB.success),d.pL({payload:A}))),(0,P.K)(A=>(this.matSnackBarService.open("error",u.MB.error),(0,$.of)(d.E$({payload:A}))))))))}}return e.\u0275fac=function(a){return new(a||e)(t.LFG(D.eX),t.LFG(H),t.LFG(K.s))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var Vt=o(9552);let kt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[n.ez,i.UX,f.Is,C.lN,T.c,I.Ps,m.ot,b.LD,x.FA,S.XK,Vt.b,N.Fk]}),e})(),Ht=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[n.ez,i.UX,f.Is,C.lN,T.c,I.Ps,m.ot,b.LD,x.FA,S.XK,N.Fk]}),e})();var Kt=o(9318);let Gt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[H,K.s,E.k],imports:[n.ez,$t,L.Aw.forFeature(u.CN.call,Jt),D.sQ.forFeature([Bt]),Qt.ZX,i.UX,T.c,I.Ps,w.Cq,Yt.Hi,m.ot,B.AV,U.JX,h.p0,c.TU,f.Is,kt,Ht,Kt.J,L.Aw,D.sQ]}),e})()},9558:(Q,y,o)=>{o.d(y,{k:()=>R});var n=o(9653),p=o(237);const c=(0,n.ZF)(p.C.call),U=(0,n.P1)(c,r=>r.create.createCallDto),i=(0,n.P1)(c,r=>r.create.exception),u=(0,n.P1)(c,r=>r.create.isLoading),Z=(0,n.P1)(c,r=>r.create.response),t=(0,n.P1)(c,r=>r.findAll.pagination),E=(0,n.P1)(c,r=>r.findAll.exception),f=(0,n.P1)(c,r=>r.findAll.isLoading),C=(0,n.P1)(c,r=>r.findAll.response),T=(0,n.P1)(c,r=>r.findOne.id),I=(0,n.P1)(c,r=>r.findOne.exception),m=(0,n.P1)(c,r=>r.findOne.isLoading),b=(0,n.P1)(c,r=>r.findOne.response),S=(0,n.P1)(c,r=>r.update.updateCallDto),x=(0,n.P1)(c,r=>r.update.id),Y=(0,n.P1)(c,r=>r.update.exception),N=(0,n.P1)(c,r=>r.update.isLoading),z=(0,n.P1)(c,r=>r.update.response);var F=o(7210),O=o(4650);let R=(()=>{class r{constructor(v){this.store=v,this.createDto$=this.store.select(U),this.createException$=this.store.select(i),this.createIsLoading$=this.store.select(u),this.createResponse$=this.store.select(Z),this.findAllPagination$=this.store.select(t),this.findAllException$=this.store.select(E),this.findAllIsLoading$=this.store.select(f),this.findAllResponse$=this.store.select(C),this.findOneId$=this.store.select(T),this.findOneException$=this.store.select(I),this.findOneIsLoading$=this.store.select(m),this.findOneResponse$=this.store.select(b),this.updateDto$=this.store.select(S),this.updateId$=this.store.select(x),this.updateException$=this.store.select(Y),this.updateIsLoading$=this.store.select(N),this.updateResponse$=this.store.select(z)}create(v){this.store.dispatch((0,F.FV)({payload:v}))}findAll(v){this.store.dispatch((0,F.Br)({payload:v}))}findOne(v){this.store.dispatch((0,F.Dd)({payload:v}))}update(v,M){this.store.dispatch((0,F.oO)({id:v,payload:M}))}}return r.\u0275fac=function(v){return new(v||r)(O.LFG(n.yh))},r.\u0275prov=O.Yz7({token:r,factory:r.\u0275fac}),r})()},7210:(Q,y,o)=>{o.d(y,{Br:()=>i,C7:()=>u,Dd:()=>t,E$:()=>I,FV:()=>h,F_:()=>U,PS:()=>Z,Q1:()=>c,SB:()=>E,gL:()=>f,oO:()=>C,pL:()=>T});var n=o(9653),p=(()=>{return(m=p||(p={})).CALL_CREATE_REQUESTED="[Call] CREATE Requested",m.CALL_CREATE_LOADED="[Call] CREATE Loaded",m.CALL_CREATE_FAILED="[Call] CREATE Failed",m.CALL_FIND_ALL_REQUESTED="[Call] FIND ALL Requested",m.CALL_FIND_ALL_LOADED="[Call] FIND ALL Loaded",m.CALL_FIND_ALL_FAILED="[Call] FIND ALL Failed",m.CALL_FIND_ONE_REQUESTED="[Call] FIND ONE Requested",m.CALL_FIND_ONE_LOADED="[Call] FIND ONE Loaded",m.CALL_FIND_ONE_FAILED="[Call] FIND ONE Failed",m.CALL_UPDATE_REQUESTED="[Call] UPDATE Requested",m.CALL_UPDATE_LOADED="[Call] UPDATE Loaded",m.CALL_UPDATE_FAILED="[Call] UPDATE Failed",p;var m})();const h=(0,n.PH)(p.CALL_CREATE_REQUESTED,(0,n.Ky)()),c=(0,n.PH)(p.CALL_CREATE_LOADED,(0,n.Ky)()),U=(0,n.PH)(p.CALL_CREATE_FAILED,(0,n.Ky)()),i=(0,n.PH)(p.CALL_FIND_ALL_REQUESTED,(0,n.Ky)()),u=(0,n.PH)(p.CALL_FIND_ALL_LOADED,(0,n.Ky)()),Z=(0,n.PH)(p.CALL_FIND_ALL_FAILED,(0,n.Ky)()),t=(0,n.PH)(p.CALL_FIND_ONE_REQUESTED,(0,n.Ky)()),E=(0,n.PH)(p.CALL_FIND_ONE_LOADED,(0,n.Ky)()),f=(0,n.PH)(p.CALL_FIND_ONE_FAILED,(0,n.Ky)()),C=(0,n.PH)(p.CALL_UPDATE_REQUESTED,(0,n.Ky)()),T=(0,n.PH)(p.CALL_UPDATE_LOADED,(0,n.Ky)()),I=(0,n.PH)(p.CALL_UPDATE_FAILED,(0,n.Ky)())}}]);