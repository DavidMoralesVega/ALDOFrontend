<div class="dialogContainer">
	<div class="dialogContainer__header">
		<h2 mat-dialog-title>Actualizar departamento</h2>
		<button mat-icon-button mat-dialog-close>
			<mat-icon class="material-symbols-outlined">close</mat-icon>
		</button>
	</div>

	<form [formGroup]="formUpdate" (ngSubmit)="update()" novalidate="novalidate" autocomplete="off">
		<div mat-dialog-content>
			<div class="row">
				<mat-form-field class="col-lg-12" appearance="outline">
					<mat-label>Título</mat-label>

					<input matInput maxlength="40" formControlName="DTTitle" placeholder="Título" />
					<mat-hint align="start">El título debe tener como máximo 40 caracteres. </mat-hint>
					<mat-hint align="end">{{ DTTitle.value.length }} / 40</mat-hint>
					<mat-error *ngIf="errorMatcher.isErrorState(DTTitle, null)">
						<span *ngIf="DTTitle.errors?.['required']">
							<i class="fas fa-exclamation-circle mr-1"></i>
							El título es requerida.
						</span>

						<span *ngIf="DTTitle.errors?.['maxlength']">
							<i class="fas fa-exclamation-circle mr-1"></i>
							El título debe tener como máximo 40 caracteres.
						</span>
					</mat-error>
				</mat-form-field>

				<mat-form-field class="col-lg-12" appearance="outline">
					<mat-label>Resumen</mat-label>

					<input matInput maxlength="40" formControlName="DTSummary" placeholder="Resumen" />
					<mat-hint align="start">El resumen debe tener como máximo 40 caracteres. </mat-hint>
					<mat-hint align="end">{{ DTSummary.value.length }} / 40</mat-hint>
					<mat-error *ngIf="errorMatcher.isErrorState(DTSummary, null)">
						<span *ngIf="DTSummary.errors?.['required']">
							<i class="fas fa-exclamation-circle mr-1"></i>
							El resumen es requerida.
						</span>

						<span *ngIf="DTSummary.errors?.['maxlength']">
							<i class="fas fa-exclamation-circle mr-1"></i>
							El resumen debe tener como máximo 40 caracteres.
						</span>
					</mat-error>
				</mat-form-field>

				<mat-form-field class="col-lg-12" appearance="outline">
					<mat-label>Fecha de publicación</mat-label>
					<input
						matInput
						type="date"
						formControlName="DTPublicationDate"
						placeholder="Fecha de publicación"
					/>
					<mat-error *ngIf="errorMatcher.isErrorState(DTPublicationDate, null)">
						<span *ngIf="DTPublicationDate.errors?.['required']">
							<i class="fas fa-exclamation-circle mr-1"></i>
							La fecha de publicación es requerido.
						</span>

						<span *ngIf="DTPublicationDate.errors?.['maxlength']">
							<i class="fas fa-exclamation-circle mr-1"></i>
							La fecha de publicación es requerido.
						</span>
					</mat-error>
				</mat-form-field>

				<mat-form-field class="col-lg-12" appearance="outline">
					<mat-label>Fecha de emisión</mat-label>
					<input
						matInput
						type="date"
						formControlName="DTIssueDate"
						placeholder="Fecha de emisión"
					/>
					<mat-error *ngIf="errorMatcher.isErrorState(DTIssueDate, null)">
						<span *ngIf="DTIssueDate.errors?.['required']">
							<i class="fas fa-exclamation-circle mr-1"></i>
							La fecha de emisión es requerido.
						</span>

						<span *ngIf="DTIssueDate.errors?.['maxlength']">
							<i class="fas fa-exclamation-circle mr-1"></i>
							La fecha de emisión es requerido.
						</span>
					</mat-error>
				</mat-form-field>

				<mat-form-field class="col-lg-12" appearance="outline">
					<mat-label>Número de documento</mat-label>
					<input
						matInput
						formControlName="DTDocumentNumber"
						placeholder="Número de documento"
					/>
					<mat-error *ngIf="errorMatcher.isErrorState(DTDocumentNumber, null)">
						<span *ngIf="DTDocumentNumber.errors?.['required']">
							<i class="fas fa-exclamation-circle mr-1"></i>
							El número de documento es requerido.
						</span>
					</mat-error>
				</mat-form-field>

				<div class="z-container-raddio-button">
					<label class="z-label">Seleccionar la visibilidad</label>

					<mat-radio-group formControlName="DTVisibility" class="z-radio-group">
						<mat-radio-button class="z-radio-button" value="Público">
							Público
						</mat-radio-button>
						<mat-radio-button class="z-radio-button" value="Privado">
							Privado
						</mat-radio-button>
					</mat-radio-group>
				</div>
			</div>
		</div>
		<mat-dialog-actions align="end">
			<button mat-button mat-dialog-close>Cancelar</button>
			<button mat-button *ngIf="!(updateIsLoading$ | async)">Guardar</button>
			<button mat-button *ngIf="updateIsLoading$ | async" disabled>Guardando...</button>
		</mat-dialog-actions>
	</form>
</div>
